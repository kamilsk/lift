description = "Some awesome service"
host = "http://www.example.com"
kind = "business"
name = "service"
replicas = 1

[env_vars]
  SERVICE_X_CONNECTION_TIMEOUT = "1s"
  SERVICE_X_MAX_IDLE_CONNS = "10"
  SERVICE_X_TIMEOUT = "1s"
  SERVICE_Y_CONNECTION_TIMEOUT = "1s"
  SERVICE_Y_MAX_IDLE_CONNS = "10"
  SERVICE_Y_TIMEOUT = "1s"

[envs]

  [envs.perf]

    [[envs.perf.dependencies]]
      mock = true
      mock-replicas = 1
      name = "service-y"

    [envs.perf.env_vars]
      SERVICE_X_CONNECTION_TIMEOUT = "100ms"
      SERVICE_X_MAX_IDLE_CONNS = "10"
      SERVICE_X_TIMEOUT = "300ms"
      SERVICE_Y_CONNECTION_TIMEOUT = "100ms"
      SERVICE_Y_MAX_IDLE_CONNS = "10"
      SERVICE_Y_TIMEOUT = "300ms"

  [envs.prod]

    [envs.prod.env_vars]
      SERVICE_X_CONNECTION_TIMEOUT = "100ms"
      SERVICE_X_MAX_IDLE_CONNS = "100"
      SERVICE_X_TIMEOUT = "300ms"
      SERVICE_Y_CONNECTION_TIMEOUT = "100ms"
      SERVICE_Y_MAX_IDLE_CONNS = "100"
      SERVICE_Y_TIMEOUT = "300ms"
